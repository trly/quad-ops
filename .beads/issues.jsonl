{"id":"quad-ops-0pl","content_hash":"226b0a2035a079fdd5eb8fc0a75e98b933938d8500477bbe464f44c7714805c0","title":"Update architecture documentation for current implementation","description":"The architecture.md file describes macOS launchd support as 'planned' but the codebase shows some macOS support is implemented. Update the documentation to reflect the current cross-platform capabilities and clarify what is implemented vs planned.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:24:07.694421836-05:00","updated_at":"2025-11-06T23:24:07.694421836-05:00","source_repo":".","labels":["architecture","cross-platform","documentation"],"dependencies":[{"issue_id":"quad-ops-0pl","depends_on_id":"quad-ops-79g","type":"blocks","created_at":"2025-11-06T23:24:07.702746683-05:00","created_by":"daemon"}]}
{"id":"quad-ops-0rf","content_hash":"b3dd0ea21cf99ede6eb2485f57168da24999f23be1ed933b44a0ff9bc919b727","title":"Update command reference documentation","description":"The command-reference/_index.md and individual command docs need updates:\n- Remove references to non-existent commands (like 'deps')\n- Update sync.md to use correct config field names ('ref' not 'target', no 'cleanup' section)\n- Ensure all actual commands are documented with correct options\n- Add missing command documentation for newer commands\n- Update global options to match current implementation","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:24:12.507417051-05:00","updated_at":"2025-11-06T23:24:12.507417051-05:00","source_repo":".","labels":["cli","commands","documentation"],"dependencies":[{"issue_id":"quad-ops-0rf","depends_on_id":"quad-ops-79g","type":"blocks","created_at":"2025-11-06T23:24:12.510679623-05:00","created_by":"daemon"}]}
{"id":"quad-ops-1n4","content_hash":"550ecd4dcbd0144c3080efad1df6d2332485312825ecf6b42a1c554b666ee795","title":"examples do not deploy","description":"The example configs do not deploy. Investigate if this is an issue with the current state of quad-ops, or a problem with the example compose files\n","acceptance_criteria":"./quad-ops -u up should start up example services","notes":"## Investigation Results\n\n**Root Cause Identified**: Services were failing to start with \"Unit \u003cservice\u003e.service not found\" because of a naming mismatch between volume/network references in container files and the actual volume/network unit file names.\n\n### The Problem\n- Quad-ops was generating volume/network unit files with names like `init-containers-init-containers_shared-data.volume` (double-prefixed)\n- But container files referenced volumes as `shared-data.volume` \n- The podman-systemd-generator failed to process containers that referenced missing volume units\n\n### The Fix\nModified the spec converter to avoid double-prefixing resource names:\n\n1. **convertProjectVolumes/Networks**: Only apply project prefix if the name doesn't already contain the project name (prevents double-prefixing when reader already prefixed)\n\n2. **convertVolumeMounts**: Prefix mount sources with `project_` to match the volume names set by the reader\n\n### Current Status\n- ✅ Services are now recognized by systemd (no more \"Unit not found\" errors)\n- ✅ Volume and network references are consistent\n- ⚠️ Services now fail with legitimate errors instead of discovery failures\n- Current failures are due to:\n  - Init container failures preventing dependent services from starting\n  - Podman image resolution issues (unqualified image names require registries.conf configuration)\n\n### Additional Issues Found\n**Image Registry Configuration**: Quad-ops uses unqualified image names from compose files (e.g., `nginx:alpine`), but podman requires unqualified-search registries to be configured in `/etc/containers/registries.conf`.\n\n**Work Needed**:\n1. ✅ **Fixed**: Volume/network naming consistency \n2. **Optional**: Update quad-ops to use fully qualified image names or document registry requirements\n\nThe core systemd integration issue is resolved. Services can now be discovered and managed by systemd.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-06T21:30:19.502511756-05:00","updated_at":"2025-11-06T23:39:43.908874797-05:00","closed_at":"2025-11-06T23:39:37.254202295-05:00","source_repo":"."}
{"id":"quad-ops-1qw","content_hash":"3655d4b7d4ba8387ac9be9aca97fa6c74f75a1ad6644851bb798b5dc6669618f","title":"Fix documentation navigation and missing sections","description":"The docs index references sections that don't exist or have wrong filenames:\n- 'Getting Started' links to 'getting-started' but file is 'quick-start.md'\n- 'Podman-systemd (Quadlet)' section doesn't exist\n- 'Release Notes' section doesn't exist\n- Fix broken internal links and ensure navigation is consistent","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:24:05.749177758-05:00","updated_at":"2025-11-06T23:24:05.749177758-05:00","source_repo":".","labels":["documentation","navigation","site"],"dependencies":[{"issue_id":"quad-ops-1qw","depends_on_id":"quad-ops-79g","type":"blocks","created_at":"2025-11-06T23:24:05.758314474-05:00","created_by":"daemon"}]}
{"id":"quad-ops-1vw","content_hash":"4e11329b900c9fba04456aba336ac0ae254c667396792db3cd5b4e92e58b609f","title":"Restore Linux build units functionality","description":"The systemd platform should properly render .build unit files for container build configurations. Currently build specs are not rendered as separate units.\n\nNeed to:\n- Ensure renderService creates separate artifacts for build specs in spec.Container.Build\n- Implement proper Quadlet build unit rendering with build arguments, contexts, and all options\n- Add build dependencies to container units (After/Requires)\n- Test that build units are created and execute properly\n\nThis restores the Linux-specific build management that was lost in the cross-platform abstraction.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-06T21:39:31.468441203-05:00","updated_at":"2025-11-06T22:03:01.009086528-05:00","closed_at":"2025-11-06T22:03:01.009086528-05:00","source_repo":".","labels":["build","linux","platform-specific","quadlet"]}
{"id":"quad-ops-274","content_hash":"3464c075753c725a0f83726311ac95229c970a2971b22671d71f2eca31389b22","title":"Create Release Notes documentation section","description":"The docs index references a 'Release Notes' section that doesn't exist. Create this section to document:\n- Current version features and changes\n- Migration guides for breaking changes\n- Known issues and workarounds\n- Future roadmap items\n- Changelog format and maintenance process","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:24:16.603757397-05:00","updated_at":"2025-11-06T23:24:16.603757397-05:00","source_repo":".","labels":["changelog","documentation","releases"],"dependencies":[{"issue_id":"quad-ops-274","depends_on_id":"quad-ops-79g","type":"blocks","created_at":"2025-11-06T23:24:16.611438057-05:00","created_by":"daemon"}]}
{"id":"quad-ops-2bs","content_hash":"4c3300a7e08fce6ed98bc84d4fa43024476c81828ae786cb4e465ca4f1d1cc2b","title":"Add platform-specific feature validation and warnings","description":"Users should be warned when using features that don't work on their platform. Need to add validation during spec conversion.\n\nNeed to:\n- Detect when Quadlet-specific features (volumes, networks, builds) are used on macOS\n- Add validation warnings/errors during spec conversion\n- Update compose reader to flag unsupported features per platform\n- Add platform capability checking\n- Test validation works correctly for both platforms\n\nThis will prevent user confusion and provide clear feedback about platform limitations.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:39:40.863822782-05:00","updated_at":"2025-11-06T21:39:40.863822782-05:00","source_repo":".","labels":["cross-platform","user-experience","validation"],"dependencies":[{"issue_id":"quad-ops-2bs","depends_on_id":"quad-ops-6cz","type":"blocks","created_at":"2025-11-06T21:39:48.664022136-05:00","created_by":"daemon"}]}
{"id":"quad-ops-3aq","content_hash":"fa0ded88e9f3b15fc1c0ed67e8184385190a3e461945d71fdcfc07d40f7e659e","title":"Update documentation to clarify platform differences","description":"The current documentation claims full Docker Compose support but this is misleading for macOS. Need to clearly document platform differences.\n\nNeed to:\n- Update README.md to clarify platform-specific feature support\n- Add platform comparison table in documentation\n- Update feature claims to be platform-specific\n- Add migration guide for users moving between platforms\n- Update examples to show platform differences\n\nThis will set proper user expectations and prevent confusion about feature availability.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T21:39:43.446055828-05:00","updated_at":"2025-11-06T21:39:43.446055828-05:00","source_repo":".","labels":["documentation","platform-differences","user-experience"],"dependencies":[{"issue_id":"quad-ops-3aq","depends_on_id":"quad-ops-2bs","type":"blocks","created_at":"2025-11-06T21:39:50.509568025-05:00","created_by":"daemon"}]}
{"id":"quad-ops-3km","content_hash":"01c1f5bc0d04ca82c36582604dc4cf7a44b3faab5f5e1b47f97fbab70437fb64","title":"multi-service/docker-compose.yaml - invalid secret names","description":"$ ./quad-ops validate examples/multi-service/docker-compose.yaml\ntime=\"2025-11-06T21:45:52-05:00\" level=warning msg=\"/home/trly/github.com/trly/quad-ops/examples/multi-service/docker-compose.yaml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion\"\ntime=2025-11-06T21:45:52.079-05:00 level=WARN msg=\"Secret name doesn't follow DNS naming conventions\" name=db_password\ntime=2025-11-06T21:45:52.079-05:00 level=WARN msg=\"Secret name doesn't follow DNS naming conventions\" name=db_password\ntime=2025-11-06T21:45:52.079-05:00 level=WARN msg=\"Secret name doesn't follow DNS naming conventions\" name=db_password\n\n","status":"closed","priority":4,"issue_type":"bug","created_at":"2025-11-06T21:47:01.808506075-05:00","updated_at":"2025-11-06T23:18:05.229118677-05:00","closed_at":"2025-11-06T23:18:05.229118677-05:00","source_repo":"."}
{"id":"quad-ops-3ks","content_hash":"eec797e28bb24b903e7a68008d1e51193f7cfd954f632d1345e261081465693f","title":"Fix gosec linting issues in test files","description":"The gosec security linter was disabled due to issues with test files. Need to properly address the security warnings:\n\n- G304: Potential file inclusion via variable (os.ReadFile in tests)\n- G301: Directory permissions should be 0750 or less (os.MkdirAll with 0755)\n- G306: File permissions should be 0600 or less (os.WriteFile with 0644)\n\nThese are legitimate security concerns that should be addressed rather than disabling the linter.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-06T21:22:59.338099854-05:00","updated_at":"2025-11-06T21:25:01.369839516-05:00","closed_at":"2025-11-06T21:25:01.369839516-05:00","source_repo":"."}
{"id":"quad-ops-3x9","content_hash":"7543ff502b4c1081c3ef06e0d291b31f0138788c1f998408c815e98967445001","title":"Update examples to use fully qualified image references","description":"The example compose files use unqualified image names (e.g., nginx:alpine) that fail to resolve without proper podman registry configuration. Update all examples to use fully qualified image references (e.g., docker.io/library/nginx:alpine) to ensure they work out of the box.","acceptance_criteria":"./quad-ops -u sync \u0026\u0026 ./quad-ops -u up are successful","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-06T23:41:08.908702281-05:00","updated_at":"2025-11-06T23:42:44.677415917-05:00","closed_at":"2025-11-06T23:42:44.677415917-05:00","source_repo":"."}
{"id":"quad-ops-5wg","content_hash":"652d04ee7972a72fc9ddc9bf8751c37fb79e016aeac0c6d56fb6f7c8ec4f26a3","title":"Implement dependency ordering in launchd lifecycle operations","description":"Modify launchd StartMany, StopMany, and RestartMany to process services in dependency order. Currently they iterate without respecting order, but since dependencies aren't expressed in plists, ordering must be enforced at the lifecycle level.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:26:25.018837448-05:00","updated_at":"2025-11-06T23:26:25.018837448-05:00","source_repo":".","dependencies":[{"issue_id":"quad-ops-5wg","depends_on_id":"quad-ops-9y2","type":"blocks","created_at":"2025-11-06T23:26:25.023159375-05:00","created_by":"daemon"}]}
{"id":"quad-ops-6cz","content_hash":"0f25e9670b898a0a7b6fc8cb382a385f176579c3891a1efa1c6822a168608ea5","title":"Restore Linux volume units functionality","description":"The systemd platform should properly render separate .volume unit files for named volumes from the service spec. Currently volumes are only handled as part of container mounts.\n\nNeed to:\n- Ensure renderService creates separate artifacts for volumes in spec.Volumes\n- Implement proper Quadlet volume unit rendering with all supported options\n- Add volume dependencies to container units (After/Requires)\n- Test that volume units are created and managed properly\n\nThis restores the Linux-specific volume management that was lost in the cross-platform abstraction.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-06T21:39:27.372788067-05:00","updated_at":"2025-11-06T21:56:42.2179633-05:00","closed_at":"2025-11-06T21:56:42.2179633-05:00","source_repo":".","labels":["linux","platform-specific","quadlet","volumes"]}
{"id":"quad-ops-6dn","content_hash":"446d4432602a3c4ee515890eedf086583a256b13061488a33bb61b900d4d7e0f","title":"Implement macOS volume management for feature parity","description":"While macOS launchd cannot create separate volume units like systemd, we can implement volume lifecycle management to provide better parity.\n\nNeed to:\n- Research if Podman on macOS supports named volume management\n- Implement volume creation/deletion commands for macOS platform\n- Add volume validation and lifecycle hooks to launchd platform\n- Update status reporting to include volume information\n- Test volume operations work correctly on macOS\n\nThis would provide basic volume management functionality on macOS, even if not as rich as Linux Quadlet volumes.","design":"### Volume Management Research Phase\n- Investigate Podman macOS volume support through documentation and testing\n- Determine if named volumes are supported and how they differ from Linux\n- Assess volume persistence, location, and management commands available\n- Document findings in issue notes for implementation decisions\n\n### Volume Model Extensions\n- Add VolumeSpec struct to internal/service/models.go for macOS volume definitions\n- Extend launchd platform structs to include volume lifecycle hooks\n- Add volume validation methods to internal/service/validate.go\n- Ensure volume specs are parsed from compose files and included in service specs\n\n### Platform Implementation\n- Implement volume creation/deletion in internal/platform/launchd/volume.go\n- Add volume lifecycle hooks to launchd platform manager\n- Integrate volume operations into StartMany/StopMany/RestartMany commands\n- Handle volume dependencies during service orchestration (though launchd doesn't support unit-level dependencies like systemd)\n\n### Status Reporting Updates\n- Extend status reporting to include volume information in launchd platform\n- Add volume status fields to Status struct (created, available, size, etc.)\n- Update CLI status command to display volume information on macOS\n- Ensure volume status integrates with existing status reporting workflow\n\n### Testing Implementation\n- Add unit tests for volume operations in launchd platform\n- Create integration tests using test compose files with volumes\n- Test volume lifecycle management across service operations\n- Validate volume persistence and cleanup behavior\n\n### Command Integration\n- Add volume-specific CLI commands if needed (create, remove, list volumes)\n- Integrate volume management into existing up/down/sync workflows\n- Ensure volume operations are logged appropriately\n- Handle volume errors gracefully with clear user feedback\n\n### Cross-Platform Considerations\n- Maintain API compatibility with Linux volume management where possible\n- Document platform differences in volume capabilities clearly\n- Ensure compose files work on both platforms (with appropriate warnings for unsupported features)\n- Consider fallback behaviors for macOS-specific limitations","acceptance_criteria":"### Research Validation\n- Podman macOS volume support is documented and understood\n- Volume capabilities and limitations are clearly identified\n- Implementation approach is validated through testing\n\n### Volume Lifecycle Management\n- Volume creation/deletion commands work correctly on macOS\n- Volumes persist across container restarts as expected\n- Volume cleanup happens appropriately when services are removed\n\n### Integration Testing\n- Test compose files with volumes deploy successfully on macOS\n- Volume mounting works correctly in containers\n- Service operations (start/stop/restart) handle volumes properly\n- No regressions in existing functionality\n\n### Status and Monitoring\n- Status command shows volume information on macOS\n- Volume status is accurate and up-to-date\n- Error conditions are reported clearly\n\n### User Experience\n- Volume operations provide clear success/error feedback\n- Platform differences are communicated through warnings or documentation\n- Volume management integrates seamlessly with existing workflows\n\n### Code Quality\n- Unit test coverage for volume operations \u003e80%\n- No linting or security issues introduced\n- Code follows existing patterns and conventions\n- Documentation updated to reflect new capabilities","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:39:34.016022681-05:00","updated_at":"2025-11-06T23:28:17.139486917-05:00","source_repo":".","labels":["macos","parity","podman","volumes"],"dependencies":[{"issue_id":"quad-ops-6dn","depends_on_id":"quad-ops-6cz","type":"related","created_at":"2025-11-06T21:39:45.285584306-05:00","created_by":"daemon"}]}
{"id":"quad-ops-79g","content_hash":"f442117d19e2493fc7cc8caccadc6c6490a08a5d059b1b0820898d3547224d6c","title":"Documentation Review and Updates Epic","description":"Review and update the site/ documentation to address out-of-date information, missing sections, and inconsistencies with the current codebase implementation.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-11-06T23:24:03.079115476-05:00","updated_at":"2025-11-06T23:24:03.079115476-05:00","source_repo":".","labels":["documentation","review","site"]}
{"id":"quad-ops-7fz","content_hash":"bc8f13fd611f1e9ff373aaa85e081d6c315ec04bb42dc091abbd06d5ab2ce3d3","title":"Implement x-quad-ops-init extension support","description":"The init-containers example uses x-quad-ops-init extension to define init containers that run before the main service. This extension is documented but not implemented.\n\nNeed to:\n- Add InitContainers field to service.Spec model\n- Modify spec_converter.go to process x-quad-ops-init from project.Extensions\n- Generate separate service specs for each init container\n- Ensure proper systemd dependencies (After/Requires) between init containers and main service\n- Handle sequential execution of init containers\n\nExtension format:\n```yaml\nx-quad-ops-init:\n  - image: docker.io/example/image:tag\n    command: run this command\n  - image: another/image:tag\n    command: [\"sh\", \"-c\", \"multi word command\"]\n```","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:36:14.961358574-05:00","updated_at":"2025-11-06T21:45:42.057268667-05:00","closed_at":"2025-11-06T21:45:42.057268667-05:00","source_repo":".","dependencies":[{"issue_id":"quad-ops-7fz","depends_on_id":"quad-ops-1n4","type":"blocks","created_at":"2025-11-06T21:36:14.965800422-05:00","created_by":"daemon"}]}
{"id":"quad-ops-7ry","content_hash":"26f7f4d629300d2cd1fa90d215da2dcbb35449edc5f6f96920140749047a512f","title":"non-user mode config init lists user config","description":"❯ ./quad-ops config init\nError executing command: configuration file already exists at /home/trly/.config/quad-ops/config.yaml, use --force to overwrite","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-06T21:28:46.864721827-05:00","updated_at":"2025-11-06T21:50:10.851385897-05:00","closed_at":"2025-11-06T21:50:10.851385897-05:00","source_repo":"."}
{"id":"quad-ops-9y2","content_hash":"9e69dca84c5102ac946714eeef04022eec67cea362bce88681286f80bd21cfd4","title":"Improve cross-platform dependency management","description":"The current dependency system only works well for systemd. Need to enhance dependency handling across platforms.\n\nNeed to:\n- Implement dependency ordering for launchd platform (currently StartMany has no ordering)\n- Add dependency validation during spec conversion\n- Improve dependency resolution and cycle detection\n- Add platform-specific dependency mapping (systemd After/Requires vs launchd ordering)\n- Test dependency handling works correctly on both platforms\n\nThis will provide better service orchestration across both Linux and macOS platforms.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:39:38.535363004-05:00","updated_at":"2025-11-06T21:39:38.535363004-05:00","source_repo":".","labels":["cross-platform","dependencies","launchd","systemd"]}
{"id":"quad-ops-aez","content_hash":"d12c36ddb243cade8aa65df3252d4282a287370683d8f0cbe1cb64b4a26d408b","title":"Add platform-specific dependency mapping","description":"Enhance systemd renderer to ensure comprehensive After/Requires mapping. Research and implement launchd dependency mechanisms in plist files (QueueDirectories, WatchPaths, etc.) and add dependency fields to Plist struct.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:26:41.917992911-05:00","updated_at":"2025-11-06T23:26:41.917992911-05:00","source_repo":".","dependencies":[{"issue_id":"quad-ops-aez","depends_on_id":"quad-ops-9y2","type":"parent-child","created_at":"2025-11-06T23:26:43.439040488-05:00","created_by":"daemon"}]}
{"id":"quad-ops-b5b","content_hash":"849dba5e8eefd72f773f137dcad24b2ac91e5c670bb635b70bb9e4c19195e5d7","title":"Update configuration documentation to match current config structure","description":"Review and update the quad-ops-configuration.md file to ensure it accurately reflects:\n- Current config field names and structure (Reference vs ref, etc.)\n- Default values and paths\n- User mode vs system mode differences\n- Any new configuration options that may have been added","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:24:09.948742386-05:00","updated_at":"2025-11-06T23:24:09.948742386-05:00","source_repo":".","labels":["config","configuration","documentation"],"dependencies":[{"issue_id":"quad-ops-b5b","depends_on_id":"quad-ops-79g","type":"blocks","created_at":"2025-11-06T23:24:09.95632202-05:00","created_by":"daemon"}]}
{"id":"quad-ops-bon","content_hash":"0856d111983a7f2e8b79527d4b2666e2e16baee6a7abc11c62593fb1fd51fbc4","title":"Implement macOS network management for feature parity","description":"While macOS launchd cannot create separate network units like systemd, we can implement network lifecycle management to provide better parity.\n\nNeed to:\n- Research Podman network management on macOS\n- Implement network creation/deletion commands for macOS platform  \n- Add network validation and lifecycle hooks to launchd platform\n- Update status reporting to include network information\n- Test network operations work correctly on macOS\n\nThis would provide basic network management functionality on macOS, even if not as rich as Linux Quadlet networks.","design":"### Network Management Research Phase\n- Investigate Podman macOS network support through documentation and testing\n- Determine if named networks are supported and how they differ from Linux\n- Assess network isolation, connectivity, and management commands available\n- Document findings in issue notes for implementation decisions\n\n### Network Model Extensions\n- Add NetworkSpec struct to internal/service/models.go for macOS network definitions\n- Extend launchd platform structs to include network lifecycle hooks\n- Add network validation methods to internal/service/validate.go\n- Ensure network specs are parsed from compose files and included in service specs\n\n### Platform Implementation\n- Implement network creation/deletion in internal/platform/launchd/network.go\n- Add network lifecycle hooks to launchd platform manager\n- Integrate network operations into StartMany/StopMany/RestartMany commands\n- Handle network dependencies during service orchestration (though launchd doesn't support unit-level dependencies like systemd)\n\n### Status Reporting Updates\n- Extend status reporting to include network information in launchd platform\n- Add network status fields to Status struct (created, connected, subnet, etc.)\n- Update CLI status command to display network information on macOS\n- Ensure network status integrates with existing status reporting workflow\n\n### Testing Implementation\n- Add unit tests for network operations in launchd platform\n- Create integration tests using test compose files with networks\n- Test network lifecycle management across service operations\n- Validate network isolation and connectivity behavior\n\n### Command Integration\n- Add network-specific CLI commands if needed (create, remove, list networks)\n- Integrate network management into existing up/down/sync workflows\n- Ensure network operations are logged appropriately\n- Handle network errors gracefully with clear user feedback\n\n### Cross-Platform Considerations\n- Maintain API compatibility with Linux network management where possible\n- Document platform differences in network capabilities clearly\n- Ensure compose files work on both platforms (with appropriate warnings for unsupported features)\n- Consider fallback behaviors for macOS-specific limitations","acceptance_criteria":"### Research Validation\n- Podman macOS network support is documented and understood\n- Network capabilities and limitations are clearly identified\n- Implementation approach is validated through testing\n\n### Network Lifecycle Management\n- Network creation/deletion commands work correctly on macOS\n- Networks provide isolation between services as expected\n- Network cleanup happens appropriately when services are removed\n\n### Integration Testing\n- Test compose files with networks deploy successfully on macOS\n- Network connectivity works correctly between containers\n- Service operations (start/stop/restart) handle networks properly\n- No regressions in existing functionality\n\n### Status and Monitoring\n- Status command shows network information on macOS\n- Network status is accurate and up-to-date\n- Error conditions are reported clearly\n\n### User Experience\n- Network operations provide clear success/error feedback\n- Platform differences are communicated through warnings or documentation\n- Network management integrates seamlessly with existing workflows\n\n### Code Quality\n- Unit test coverage for network operations \u003e80%\n- No linting or security issues introduced\n- Code follows existing patterns and conventions\n- Documentation updated to reflect new capabilities","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:39:36.067042095-05:00","updated_at":"2025-11-06T23:28:52.670696572-05:00","source_repo":".","labels":["macos","networks","parity","podman"],"dependencies":[{"issue_id":"quad-ops-bon","depends_on_id":"quad-ops-lub","type":"related","created_at":"2025-11-06T21:39:47.025735433-05:00","created_by":"daemon"}]}
{"id":"quad-ops-car","content_hash":"8f3b6014328c612c4e8d432ee34c4406ecf851791163d3b1b4588d646c106af5","title":"Add cleanup of orphaned rootlessport processes before starting services","description":"When systemd services fail with podman containers using rootless networking, rootlessport processes may not get cleaned up, causing port binding conflicts on subsequent runs. Need to add cleanup logic to kill orphaned rootlessport processes before starting services in sync/up/down commands.","design":"### Root Cause Analysis\n- Podman rootless networking uses rootlessport for port forwarding\n- When systemd services fail, rootlessport processes may not be cleaned up\n- Subsequent runs fail with \"bind: address already in use\" errors\n\n### Solution Options\n1. **Pre-start cleanup**: Kill orphaned rootlessport processes before starting services\n2. **Systemd unit improvements**: Better cleanup in systemd unit files\n3. **Process tracking**: Track and clean up processes managed by quad-ops\n\n### Implementation Approach\n- Add cleanup function to check for orphaned rootlessport processes\n- Kill processes owned by current user that match rootlessport pattern\n- Integrate cleanup into up/down/sync commands before service operations\n- Add logging for cleanup actions\n- Handle errors gracefully (don't fail if cleanup fails)\n\n### Platform Considerations\n- Linux only (rootlessport is Linux-specific)\n- Should be safe to run on systems without rootlessport\n- Only affects systemd platform (macOS launchd doesn't use rootlessport)\n\n### Testing\n- Unit tests for cleanup function\n- Integration tests simulating orphaned processes\n- Manual testing with failed services","acceptance_criteria":"### Rootlessport Cleanup\n- Orphaned rootlessport processes are detected and killed before service starts\n- Port binding conflicts are resolved automatically\n- Cleanup only affects processes owned by current user\n- No impact on running services that shouldn't be cleaned up\n\n### Error Handling\n- Cleanup failures don't prevent service operations\n- Appropriate logging for cleanup actions\n- Graceful degradation when rootlessport not present\n\n### Testing Validation\n- Manual reproduction of orphaned process scenario works\n- Integration tests pass with simulated failures\n- No regressions in existing functionality\n\n### Platform Safety\n- Linux-only implementation (macOS unaffected)\n- Safe to run on systems without podman/rootlessport\n- No security risks (only kills user-owned processes)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-07T00:29:34.766225116-05:00","updated_at":"2025-11-07T00:31:10.504531795-05:00","closed_at":"2025-11-07T00:31:10.504531795-05:00","source_repo":".","labels":["cleanup","linux","podman","rootlessport","systemd"]}
{"id":"quad-ops-f0n","content_hash":"41bc44d8e4a768cacd18788d795f19171f8c2184b43263773956202ee0c8a141","title":"Improve dependency resolution and cycle detection in dependency graph","description":"Enhance internal/dependency/dependency.go with cycle detection algorithm, improved error messages, and methods for dependency resolution and conflict detection. Add comprehensive unit tests.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:26:38.535540275-05:00","updated_at":"2025-11-06T23:26:38.535540275-05:00","source_repo":".","dependencies":[{"issue_id":"quad-ops-f0n","depends_on_id":"quad-ops-9y2","type":"parent-child","created_at":"2025-11-06T23:26:40.071540677-05:00","created_by":"daemon"}]}
{"id":"quad-ops-fw5","content_hash":"854dbd4e14adb9089ef59e02722255be99e298798093fa44caeb75adec87d30e","title":"Update golden test files after fixing double-prefixing in resource names","description":"The golden test files expect double-prefixed resource names (e.g., 'project-project_resource'), but the fix removed the double-prefixing. Update all golden test files to reflect the correct single-prefixed names.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-06T23:43:36.979420254-05:00","updated_at":"2025-11-07T00:25:29.909893381-05:00","closed_at":"2025-11-07T00:25:29.909893381-05:00","source_repo":"."}
{"id":"quad-ops-g76","content_hash":"21f922b0eb7b7be312aff95fae0b1f89a7ea224a9aae32f070f06f8e162dc76a","title":"create config init command","description":"","design":"Implement a new config sub-command init\n\nThis should:\n- follow existing sub-command patterns\n- setup a default config in either the default user location or system location pointing to quad-ops examples in the repository\n  ```yaml\n  repositories:\n  - name: quad-ops-compose  # Repository name (required)\n    url: \"https://github.com/example/repo.git\"  # Git repository URL (required)\n    ref: \"main\"  # Git reference to checkout: branch, tag, or commit hash (optional)\n    composeDir: \"compose\"  # Subdirectory where Docker Compose files are located (optional)\n  ```\n","acceptance_criteria":"Command successfully creates an example config, has passing tests, and builds successfully\n","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-06T21:13:51.911801815-05:00","updated_at":"2025-11-06T21:22:11.392787089-05:00","closed_at":"2025-11-06T21:22:11.392787089-05:00","source_repo":"."}
{"id":"quad-ops-ia2","content_hash":"bb6e530e80024e5aaf1032b6d7bd1f14759832f270fc699d18192cc16b166f8b","title":"artifact_helpers.go - launchd.Options has no field or method LabelPrefix","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-06T20:28:13.28390877-05:00","updated_at":"2025-11-06T20:31:56.072325037-05:00","closed_at":"2025-11-06T20:31:56.072325037-05:00","source_repo":"."}
{"id":"quad-ops-jp2","content_hash":"36a2c54c2c72da93a1f8d6361d8a9a880a83cea988c964c74ab2a8f606497bf0","title":"Remove all divergence checks from unit list command","description":"The divergence check in the unit list command is no longer useful since we fixed the issue with package services being detected as managed units. The divergence check was designed to detect configuration drift between what should be deployed (from compose sources) vs what is deployed, but with the fix, the repo artifact store now correctly tracks only expected artifacts, making divergence checks redundant.","design":"Remove the checkDivergence method and related logic from unit_list.go. Simplify the unit list command to only show deployed artifacts without warnings about divergence.","acceptance_criteria":"Unit list command runs without divergence warnings, and the --show-divergence flag can be removed or made no-op.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-07T00:19:28.636456371-05:00","updated_at":"2025-11-07T00:23:48.322603169-05:00","closed_at":"2025-11-07T00:23:48.322603169-05:00","source_repo":".","labels":["cleanup","refactor"]}
{"id":"quad-ops-k86","content_hash":"71e193e46a2258a9a0fd6b2af18fff6af2fb6d8d2a45164d8d13beb4301bb620","title":"quad-ops package services are detected as managed units","description":"Findings from analysis of artifact_helpers.go and unit_list.go divergence check: artifact_helpers.go provides cross-platform helpers for parsing service names, filtering artifacts by platform, and excluding unmanaged paths (e.g., .git, build dirs). The divergence check compares repository artifacts (git-managed) vs filesystem artifacts (deployed), identifying extra files on disk, missing deployments, and content mismatches via hash comparison.","design":"Only be concerned with services generated from the composeDir defined in internal/config for internal/repository. Configuration drift should represent what units/plists **should** be rendered (from compose sources) vs which **are** rendered, and if the on-disk unit appears to have been modified and doesn't or won't match what will be rendered.","notes":"❯ ./quad-ops -u unit list\ntime=2025-11-06T23:59:42.550-05:00 level=WARN msg=\"Divergence detected between repository and filesystem artifacts\"\ntime=2025-11-06T23:59:42.550-05:00 level=WARN msg=\"Artifacts in repository but not deployed\" count=2 paths=\"[quad-ops-examples/build/package/quad-ops@.service quad-ops-examples/build/package/quad-ops.service]\"\n","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-07T00:02:12.622566492-05:00","updated_at":"2025-11-07T00:19:25.156809673-05:00","closed_at":"2025-11-07T00:19:25.156809673-05:00","source_repo":"."}
{"id":"quad-ops-lub","content_hash":"4dc589604164fc9e2530782faa32f249ddf86b8b182c28b89cdb9b2c041ef99c","title":"Restore Linux network units functionality","description":"The systemd platform should properly render separate .network unit files for named networks from the service spec. Currently networks are only handled as part of container network mode.\n\nNeed to:\n- Ensure renderService creates separate artifacts for networks in spec.Networks  \n- Implement proper Quadlet network unit rendering with IPAM, DNS, and all supported options\n- Add network dependencies to container units (After/Requires)\n- Test that network units are created and managed properly\n\nThis restores the Linux-specific network management that was lost in the cross-platform abstraction.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-06T21:39:29.416134847-05:00","updated_at":"2025-11-06T21:59:01.799839888-05:00","closed_at":"2025-11-06T21:59:01.799839888-05:00","source_repo":".","labels":["linux","networks","platform-specific","quadlet"]}
{"id":"quad-ops-pr4","content_hash":"759e36d3f80ac9c15a3f6448c55db0739a17c24a05c95e0dcbf9d552473b322e","title":"Investigate service startup failure on Linux: init-containers-web fails with unexpected state: failed","description":"The `./quad-ops -u up` command fails on Linux systems with the error: \\\"service init-containers-web failed to start: unexpected state: failed\\\". This appears to be a systemd integration issue where init containers are not properly configured as oneshot services.\n\nRoot cause: Init containers (created from `x-quad-ops-init` extension) are rendered as regular container units with `Restart=no`, but systemd requires oneshot services to have `Type=oneshot` and `RemainAfterExit=yes` to remain in \\\"active\\\" state after successful completion. Without these settings, init containers exit and become \\\"inactive\\\", preventing dependent services from starting.\n\nNeed to modify the systemd renderer in `internal/platform/systemd/renderer.go` to detect init containers (by name pattern containing \\\"-init-\\\") and add the appropriate systemd service configuration.","acceptance_criteria":"Running `./quad-ops -u up` on Linux systems successfully starts all services without errors, specifically the init-containers-web service should start without entering \"failed\" state.","notes":"Issue resolved. The problem was that multi-service-webapp container was still running and occupying port 8080 even after stopping the systemd service. The rootlessport process needed to be manually killed to free the port. After clearing the port conflict, init-containers-web started successfully.","status":"closed","priority":2,"issue_type":"bug","assignee":"trly","created_at":"2025-11-06T23:46:02.54965128-05:00","updated_at":"2025-11-06T23:57:54.467355247-05:00","closed_at":"2025-11-06T23:57:54.467367478-05:00","source_repo":"."}
{"id":"quad-ops-s9l","content_hash":"b3b45ba60126d93a59ee750e23aba7c6c5d6bd7b07e969aae59b16be66fe30cf","title":"Fix init container volume mounting in spec converter","description":"Init containers defined via x-quad-ops-init extension need to inherit volumes from the main service to access shared data directories. Currently, init containers don't get volume mounts, causing failures when they try to write to shared volumes like /shared/data.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-06T23:51:14.6100226-05:00","updated_at":"2025-11-06T23:54:13.232121169-05:00","closed_at":"2025-11-06T23:54:13.232121169-05:00","source_repo":".","labels":["init-containers","spec-converter","volumes"]}
{"id":"quad-ops-sgd","content_hash":"c478be6796abb02ed12c3e7c36a912183d45ef885320d56a67c4836d69012c2e","title":"issue with github workflow build.yml","description":"\nError: Failed to run: Error: Command failed: /home/runner/golangci-lint-2.6.1-linux-amd64/golangci-lint config verify\njsonschema:  does not validate with /additionalProperties: additional properties 'linters-settings' not allowed\nThe command is terminated due to an error: the configuration contains invalid elements\n, Error: Command failed: /home/runner/golangci-lint-2.6.1-linux-amd64/golangci-lint config verify\njsonschema:  does not validate with /additionalProperties: additional properties 'linters-settings' not allowed\nThe command is terminated due to an error: the configuration contains invalid elements\n\n    at genericNodeError (node:internal/errors:984:15)\n    at wrappedFn (node:internal/errors:538:14)\n    at ChildProcess.exithandler (node:child_process:422:12)\n    at ChildProcess.emit (node:events:524:28)\n    at maybeClose (node:internal/child_process:1104:16)\n    at ChildProcess._handle.onexit (node:internal/child_process:304:5)\nError: Command failed: /home/runner/golangci-lint-2.6.1-linux-amd64/golangci-lint config verify\njsonschema:  does not validate with /additionalProperties: additional properties 'linters-settings' not allowed","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-06T21:53:02.978723976-05:00","updated_at":"2025-11-06T21:54:17.737045479-05:00","closed_at":"2025-11-06T21:54:17.737045479-05:00","source_repo":"."}
{"id":"quad-ops-slm","content_hash":"7efe3d3b9fb305c75ccab8117088e5b65301768c67d553e17cbe17aa8e4807ca","title":"Implement x-podman-env-secrets extension support","description":"The multi-service example uses x-podman-env-secrets extension to map secrets to environment variables. This extension is used but not implemented.\n\nNeed to:\n- Process x-podman-env-secrets from project.Extensions in spec_converter.go\n- Add support for mapping secrets to environment variables in the service model\n- Ensure the renderer outputs appropriate Podman arguments or systemd environment setup\n\nExtension format:\n```yaml\nx-podman-env-secrets:\n  db_password: WORDPRESS_DB_PASSWORD\n```\n\nThis should make the secret available as an environment variable in the container.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-06T21:36:26.634415865-05:00","updated_at":"2025-11-06T21:45:44.413052281-05:00","closed_at":"2025-11-06T21:45:44.413052281-05:00","source_repo":"."}
{"id":"quad-ops-ts0","content_hash":"28f5d23295c692a82085be8105a6dc4db4543f6b60a79af3f0198d50dd7d622f","title":"Add dependency validation and cycle detection during spec conversion","description":"Extend validation in internal/service/validate.go to include cycle detection using the dependency graph. Add validation that all DependsOn services exist and there are no circular dependencies.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:26:34.951571807-05:00","updated_at":"2025-11-06T23:26:34.951571807-05:00","source_repo":".","dependencies":[{"issue_id":"quad-ops-ts0","depends_on_id":"quad-ops-9y2","type":"parent-child","created_at":"2025-11-06T23:26:36.591633784-05:00","created_by":"daemon"}]}
{"id":"quad-ops-xd3","content_hash":"354754034cec321bfc91ca023474c54039f34ddfd6d587bb0cfb0264bb2a884c","title":"Test dependency handling across platforms","description":"Add comprehensive tests for dependency ordering on both platforms. Extend cmd/up_test.go, add launchd lifecycle tests, and create integration tests with multi-service compose files containing dependencies.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:26:45.293937957-05:00","updated_at":"2025-11-06T23:26:45.293937957-05:00","source_repo":".","dependencies":[{"issue_id":"quad-ops-xd3","depends_on_id":"quad-ops-9y2","type":"parent-child","created_at":"2025-11-06T23:26:48.36698896-05:00","created_by":"daemon"}]}
{"id":"quad-ops-xgo","content_hash":"609cc7a2672a5c5639ee7888869db3cf75aad84f2136a2ce71cee56dbbe5af12","title":"Create missing Podman-systemd (Quadlet) documentation section","description":"The docs index references a 'Podman-systemd (Quadlet)' section that doesn't exist. Create this section to document:\n- Quadlet unit file formats and options\n- How quad-ops generates and manages Quadlet units\n- Platform-specific differences and limitations\n- Troubleshooting Quadlet-related issues\n- Links to official Podman Quadlet documentation","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-06T23:24:14.454650246-05:00","updated_at":"2025-11-06T23:24:14.454650246-05:00","source_repo":".","labels":["documentation","podman","quadlet","systemd"],"dependencies":[{"issue_id":"quad-ops-xgo","depends_on_id":"quad-ops-79g","type":"blocks","created_at":"2025-11-06T23:24:14.464388859-05:00","created_by":"daemon"}]}
